<div class="d-flex flex-shrink-0 align-items-center surface-container-low p-2">
    <p class="mx-1 title mat-headline-small font-family-brand text-one-line color-base flex-grow-1 mouse-disabled" vi-translate="coin.coin"></p>
    <button class="flex-shrink-0" (click)="submit()" mat-flat-button [disabled]="isDisabled || form.invalid || form.pristine">
        <span class="text-one-line flex-grow-1" vi-translate="general.edit.edit"></span>
    </button>
</div>

<mat-progress-bar class="flex-shrink-0 border-line variant" [mode]="isDisabled ? 'indeterminate' : 'determinate'"></mat-progress-bar>

<form class="flex-grow-1 px-3 pt-3 pb-1 row gy-0 gx-3 scroll-vertical" #form="ngForm" (keydown.enter)="$event.preventDefault()">
    <div class="col-12">
        <mat-form-field class="d-block">
            <mat-select #typeInput="ngModel" name="type" [(ngModel)]="type">
                <mat-option *ngFor="let item of types" [value]="item">
                    <span [vi-translate]="'coin.type.' + item"></span>
                </mat-option>
            </mat-select>
            <mat-label vi-translate="coin.type.type"></mat-label>
            <mat-error *ngIf="!(typeInput.valid || !typeInput.touched)" [innerHTML]="typeInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-12">
        <mat-form-field class="d-block">
            <input
                #nameInput="ngModel"
                matInput
                name="name"
                [(ngModel)]="name"
                type="text"
                required
                isNotEmpty
                [minlength]="nameMinLength"
                [maxlength]="nameMaxLength"
                [disabled]="isDisabled"
            />
            <mat-label vi-translate="coin.name"></mat-label>
            <mat-error *ngIf="!(nameInput.valid || !nameInput.touched)" [innerHTML]="nameInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-12">
        <mat-form-field class="d-block">
            <input
                #tickerInput="ngModel"
                matInput
                name="ticker"
                [(ngModel)]="ticker"
                type="text"
                required
                isNotEmpty
                [pattern]="tickerPattern"
                [minlength]="tickerMinLength"
                [maxlength]="tickerMaxLength"
                [disabled]="isDisabled"
            />
            <mat-label vi-translate="coin.ticker.ticker"></mat-label>
            <mat-error *ngIf="!(tickerInput.valid || !tickerInput.touched)" [innerHTML]="tickerInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-12">
        <mat-form-field class="d-block">
            <input
                #decimalsInput="ngModel"
                matInput
                name="decimals"
                [(ngModel)]="decimals"
                type="number"
                required
                [min]="decimalsMin"
                [max]="decimalsMax"
                [disabled]="isDisabled"
            />
            <mat-label vi-translate="coin.decimals"></mat-label>
            <mat-error *ngIf="!(decimalsInput.valid || !decimalsInput.touched)" [innerHTML]="decimalsInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-6">
        <mat-form-field class="d-block">
            <input
                #seriesUidInput="ngModel"
                matInput
                name="seriesUid"
                [(ngModel)]="seriesUid"
                type="text"
                [pattern]="seriesUidPattern"
                [minlength]="seriesUidMinLength"
                [maxlength]="seriesUidMaxLength"
                [disabled]="isDisabled"
            />
            <mat-label vi-translate="coin.series.uid"></mat-label>
            <mat-error *ngIf="!(seriesUidInput.valid || !seriesUidInput.touched)" [innerHTML]="seriesUidInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-6">
        <mat-form-field class="d-block">
            <input #seriesIndexInput="ngModel" matInput name="seriesIndex" [(ngModel)]="seriesIndex" type="number" [disabled]="isDisabled" />
            <mat-label vi-translate="coin.series.index"></mat-label>
            <mat-error *ngIf="!(seriesIndexInput.valid || !seriesIndexInput.touched)" [innerHTML]="seriesIndexInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
</form>
