<!--
<div class="d-flex flex-shrink-0 align-items-center ps-3 pe-1 py-2">
    <span class="fas fa-cog me-2"></span>
    <p class="mat-title-large flex-grow-1 text-one-line mouse-inactive" vi-translate="user.preferences.preferences"></p>
    <button
        class="flex-shrink-0"
        mat-icon-button
        (click)="submit()"
        [disabled]="isDisabled || form.invalid || form.pristine"
        [matTooltip]="'general.save.save' | viTranslate"
    >
        <mat-icon fontSet="fas" fontIcon="fa-save"></mat-icon>
    </button>
</div>

<mat-progress-bar class="flex-shrink-0 border-line" [mode]="isDisabled ? 'indeterminate' : 'determinate'"></mat-progress-bar>

<form class="flex-grow-1 px-4 pt-4 pb-2 row g-0 scroll-vertical" #form="ngForm" (keydown.enter)="$event.preventDefault()">
    <div class="col-12 d-flex justify-content-center align-items-center flex-shrink-0 position-relative">
        <user-picture class="mb-3" [user]="fakeUser" (click)="pictureUpdate()"></user-picture>
    </div>

    <div class="col-12">
        <mat-form-field class="d-block">
            <input
                #nameInput="ngModel"
                matInput
                name="name"
                [(ngModel)]="name"
                type="text"
                required
                isNotEmpty
                [minlength]="nameMinLength"
                [maxlength]="nameMaxLength"
                [disabled]="isDisabled"
            />
            <mat-label vi-translate="user.preferences.name"></mat-label>

            <mat-icon
                class="px-2"
                fontSet="fab"
                [ngClass]="{ 'fa-google': resource === 'GOOGLE', 'fa-vk': resource === 'VK' }"
                [matTooltip]="'login.resource.' + resource | viTranslatePure"
                matIconSuffix
            ></mat-icon>

            <mat-error *ngIf="!(nameInput.valid || !nameInput.touched)" [innerHTML]="nameInput.errors | viNgModelError"></mat-error>
            <mat-hint align="end" [innerHTML]="nameInput.value?.length | maxLength : nameMaxLength"></mat-hint>
        </mat-form-field>
    </div>

    <div class="col-12">
        <mat-form-field class="d-block">
            <mat-select #themeInput="ngModel" name="theme" [(ngModel)]="theme">
                <mat-option *ngFor="let item of themes" [value]="item">
                    <span [vi-translate]="'user.preferences.theme.' + item"></span>
                </mat-option>
            </mat-select>
            <mat-label vi-translate="user.preferences.theme.theme"></mat-label>
            <mat-error *ngIf="!(themeInput.valid || !themeInput.touched)" [innerHTML]="themeInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>

    <div class="col-12">
        <mat-form-field class="d-block">
            <mat-select #languageInput="ngModel" name="language" [(ngModel)]="language">
                <mat-option *ngFor="let item of languages" [value]="item">
                    <span [vi-translate]="'user.preferences.language.' + item"></span>
                </mat-option>
            </mat-select>
            <mat-label vi-translate="user.preferences.language.language"></mat-label>
            <mat-error *ngIf="!(languageInput.valid || !languageInput.touched)" [innerHTML]="languageInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>

    <div class="col-12">
        <mat-form-field class="d-block">
            <input #uidInput matInput name="uid" [value]="uid" type="text" disabled />
            <mat-label vi-translate="user.preferences.uid"></mat-label>
            <button matIconSuffix class="flex-shrink-0" mat-icon-button [vi-click-to-copy]="uidInput" [matTooltip]="'general.copy' | viTranslate">
                <mat-icon fontSet="fas" fontIcon="fa-copy"></mat-icon>
            </button>
        </mat-form-field>
    </div>
</form>
-->

<div class="d-flex flex-shrink-0 align-items-center p-3">
    <user-container [user]="user"></user-container>
    <button
        class="flex-shrink-0"
        mat-icon-button
        (click)="submit()"
        [disabled]="isDisabled || form.invalid || form.pristine"
        [matTooltip]="'general.save.save' | viTranslate"
    >
        <mat-icon fontSet="fas" fontIcon="fa-save"></mat-icon>
    </button>
</div>

<mat-progress-bar class="flex-shrink-0 border-line" [mode]="isDisabled ? 'indeterminate' : 'determinate'"></mat-progress-bar>

<form class="flex-grow-1 px-4 pt-4 pb-2 row g-0 scroll-vertical" #form="ngForm" (keydown.enter)="$event.preventDefault()">
    <div class="col-12">
        <mat-form-field class="d-block">
            <input
                #nameInput="ngModel"
                matInput
                name="name"
                [(ngModel)]="name"
                type="text"
                required
                isNotEmpty
                [minlength]="nameMinLength"
                [maxlength]="nameMaxLength"
                [disabled]="isDisabled"
            />
            <mat-label vi-translate="user.preferences.name"></mat-label>
            <mat-error *ngIf="!(nameInput.valid || !nameInput.touched)" [innerHTML]="nameInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-12">
        <mat-form-field class="d-block">
            <input #phoneInput="ngModel" matInput name="phone" [(ngModel)]="phone" type="text" isNotEmpty [maxlength]="nameMaxLength" [disabled]="isDisabled" />
            <mat-label vi-translate="user.preferences.phone"></mat-label>
            <mat-error *ngIf="!(phoneInput.valid || !phoneInput.touched)" [innerHTML]="phoneInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-12">
        <mat-form-field class="d-block">
            <input #emailInput="ngModel" matInput name="email" [(ngModel)]="email" type="text" isNotEmpty [maxlength]="emailMaxLength" [disabled]="isDisabled" />
            <mat-label vi-translate="user.preferences.email"></mat-label>
            <mat-error *ngIf="!(emailInput.valid || !emailInput.touched)" [innerHTML]="emailInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-12">
        <mat-form-field class="d-block">
            <mat-select #themeInput="ngModel" name="theme" [(ngModel)]="theme">
                <mat-option *ngFor="let item of themes" [value]="item">
                    <span [vi-translate]="'user.preferences.theme.' + item"></span>
                </mat-option>
            </mat-select>
            <mat-label vi-translate="user.preferences.theme.theme"></mat-label>
            <mat-error *ngIf="!(themeInput.valid || !themeInput.touched)" [innerHTML]="themeInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
    <div class="col-12">
        <mat-form-field class="d-block">
            <mat-select #languageInput="ngModel" name="language" [(ngModel)]="language">
                <mat-option *ngFor="let item of languages" [value]="item">
                    <span [vi-translate]="'user.preferences.language.' + item"></span>
                </mat-option>
            </mat-select>
            <mat-label vi-translate="user.preferences.language.language"></mat-label>
            <mat-error *ngIf="!(languageInput.valid || !languageInput.touched)" [innerHTML]="languageInput.errors | viNgModelError"></mat-error>
        </mat-form-field>
    </div>
</form>
